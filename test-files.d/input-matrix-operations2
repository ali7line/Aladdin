/* ========================================== */
/* MATRIX OEPRATION II                        */
/*                                            */
/* Test basic matrix operations with units    */
/* ========================================== */

/* [b] BUILT MATRIX WITH UNITS */

print "\n =========== BUILD VECTOR MATRIX ===========\n";

X = [1.0 kN, 2.0 Pa, 3 m];
Y = [1 kN; 2 Pa; 3 m];
Z = [1 lbf*ft; 1 m^2; 1 psi*in^2];
U = [1 m/sec, 1 kg*m/sec^2, 1 in^4];
PrintMatrix(X, Y, Z, U);

print "\n =========== BUILD NON-VECTOR MATRIX ===========\n";

X  = [1 kN, 2 kg; 3, 4];     /* This is OK     */
X1 = [1 kN, 2 ; 3 kg, 4];    /* This is NOT OK */
PrintMatrix(X);

X = Diag([4, 1]);
Y = One( [4, 2]);
Y = RowUnits(Y, [kN]);
PrintMatrix(Y);
print "\n Assign a set of units to column buffer \n"; 
X = ColumnUnits(X, [ksi, ft, N, m]);
Y = ColumnUnits(Y, [ksi]);
PrintMatrix(X, Y);

print "\n Assign a set of units to row buffer \n"; 
X = RowUnits(X, [psi, ft, kN, mm]);
PrintMatrix(X, Y);

X = One([4, 3]);
print "\n Assign an units to column [1] of column buffer \n"; 
X = ColumnUnits(X, [psi], [1]);
PrintMatrix(X);
print " Assign an units to row [2] of row buffer \n"; 
X = RowUnits(X, [ksi], [2]);
PrintMatrix(X);

print "\n Replace units in column buffer with given matched units  \n"; 
X = One([6]);
X = ColumnUnits(X, [ton],  [1]);
X = ColumnUnits(X, [mile],[3]);
X = ColumnUnits(X, [klb],  [4]);

X = ColumnUnits(X, [ft],   [6]);

Y = ColumnUnits(X, [in, lb]);
PrintMatrix(X, Y);

print "\n Replace units in row buffer with given matched units  \n";
X = RowUnits(X, [yard, mil, kips, deg_F, psi,rad]);
Y = RowUnits(X, [ksi, in, lbf, deg_C]);
PrintMatrix(X, Y);

print "\n =========== PRINT MATRIX ===========\n";

X = One([3, 4]);
X = ColumnUnits(X, [psi], [1]);
X = ColumnUnits(X, [kN],  [2]);
X = ColumnUnits(X, [km],  [4]);
X = RowUnits(X, [psi, N, mm]);
PrintMatrix(X);

print "\n =========== MATRIX EXTRACT ===========\n";

print "\n Extract a 2 by 2 matrix from a 3 by 4 matrix starting at corner (1,1) \n";
A = Matrix([2,2]);
A = Extract(A,X,[1,1]);
PrintMatrix(A);
print " Extract the 2nd column of matrix \n";
B = Matrix([3,1]);
B = Extract(B,X,[1,2]);
PrintMatrix(B);

print " Extract the 3nd row of matrix \n";
C = Matrix([1,4]);
C = Extract(C,X,[3,1]);
PrintMatrix(C);

print "\n =========== MATRIX CONTENT REPLACE ===========\n";

print " Replace a sub-matrix with a 2x2 matrix starting at corner (1,1)\n";
A = [2 , 3 ; 6, 3];
Y = Put(X, A, [1,1]);
PrintMatrix(X, Y, A);

print "\n =========== MAKE A MATRIX DIMENSIONLESS ===========\n";
X = One([3, 4]);
X = ColumnUnits(X, [psi], [1]);
X = ColumnUnits(X, [kN],  [2]);
X = ColumnUnits(X, [km],  [4]);
Y = MDimenLess(X);
PrintMatrix(X, Y);
